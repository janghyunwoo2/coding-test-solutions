## [프로그래머스] 특정 형질을 가지는 대장균 찾기 / Lv. 1

- https://school.programmers.co.kr/learn/courses/30/lessons/301646
- **날짜:** 2025.10.20
- **사용한 언어:** SQL

## 🔍 문제 요약

> 특정 값을 가지는 요소 찾기. 2진법으로 특정 값을 가졌는지 판단함
> 

## 💡 핵심 아이디어 / 접근 방식

어떤 고민을 했고, 어떤 아이디어로 문제를 풀어나갔는지 단계별로 적어주는 게 좋아.

- 문제 예시에서 2진법으로 비교하길래 10진법을 2진법으로 비교하려고 했음
- 예전에 비트 연산자를 활용해서 풀었던 기억이 있는데 도저히 기억이 나지 않음
- 비트 연산자를 사용하는 것 까진 맞았으나 어떻게 활용해야 하는지는 다시 공부함

<details>
  <summary><b>비트 연산자 설명</b></summary>
  
  ### 🚦 **비유: 형질은 '스위치', GENOTYPE은 '스위치 판'** 🚦
    
  음... 현우네 집 방에 **스위치 4개짜리 스위치 판**이 있다고 생각해보자.
  각 스위치는 특정 "형질"을 나타내고, 이 스위치들이 켜져 있는지(1) 꺼져 있는지(0)에 따라 방의 상태(대장균의 형질)가 결정되는 거야.
  
  - 맨 오른쪽 스위치: **1번 형질** (값 1)
  - 오른쪽에서 두 번째 스위치: **2번 형질** (값 2)
  - 오른쪽에서 세 번째 스위치: **3번 형질** (값 4)
  - 오른쪽에서 네 번째 스위치: **4번 형질** (값 8)
  (나중에 더 생길 수도 있고, 보통 2의 n제곱으로 숫자가 커져!)
  
  GENOTYPE은 이 스위치들의 **조합을 10진수 숫자로 표현한 것**이라고 보면 돼.
  
  예를 들어,
  
  - **GENOTYPE이 5**라고 해보자.
      - 5를 2진수로 바꾸면 `101` 이야. (4 + 0 + 1)
      - 이건 **3번 스위치 켜짐(1)**, **2번 스위치 꺼짐(0)**, **1번 스위치 켜짐(1)** 상태인 거야.
      - 즉, 1번 형질과 3번 형질을 가지고 있다는 뜻!
  - **GENOTYPE이 6**이라고 해보자.
      - 6을 2진수로 바꾸면 `110` 이야. (4 + 2 + 0)
      <!-- - 이건 **3번 스위치 켜짐(1)**, **2번 스위치 켜짐(1)**, **1번 스위치 꺼짐(0)** 상태인 거야. -->
      - 즉, 2번 형질과 3번 형질을 가지고 있다는 뜻!
  
  ### 🤔 **이제 `&` (비트 AND) 연산자가 하는 일을 알아보자!** 🤔
  
  `&`는 두 숫자의 비트들을 **각각 비교해서, 둘 다 켜져(1) 있어야만 결과가 켜짐(1)이 되는 연산자**야.
  우리는 이 `&` 연산자를 이용해서 "특정 스위치가 켜져 있는지"를 확인하는 데 쓸 거야.
  
  ### 1. **1번 형질(값 1)이 켜져 있는지 확인하는 법:** `GENOTYPE & 1 = 1`
  
  - 우리는 **맨 오른쪽 스위치(값 1)**만 궁금해.
  - 그러면 `GENOTYPE` 숫자와 `1`이라는 숫자를 `&` 연산하는 거야.
      - 숫자 `1`은 2진수로 `001` (다른 스위치는 다 꺼짐!)
  - **예시 1: GENOTYPE이 5 (이진수 `101`)**
      
      ```
        101 (GENOTYPE 5)
      & 001 (확인하고 싶은 1번 형질)
      -----
        001 (결과 1)
      
      ```
      
      - 결과가 1이 나왔어! 이건 `GENOTYPE`의 맨 오른쪽 스위치도 켜져 있었다는 뜻이야.
      - 즉, "1번 형질을 가지고 있다!"
  - **예시 2: GENOTYPE이 6 (이진수 `110`)**
      
      ```
        110 (GENOTYPE 6)
      & 001 (확인하고 싶은 1번 형질)
      -----
        000 (결과 0)
      
      ```
      
      - 결과가 0이 나왔어! 이건 `GENOTYPE`의 맨 오른쪽 스위치가 꺼져 있었다는 뜻이야.
      - 즉, "1번 형질을 가지고 있지 않다!"
  
  ### 2. **2번 형질(값 2)이 켜져 있는지 확인하는 법:** `GENOTYPE & 2 = 2`
  
  - 이번에는 **오른쪽에서 두 번째 스위치(값 2)**만 궁금해.
  - 숫자 `2`는 2진수로 `010` (다른 스위치는 다 꺼짐!)
  - **예시: GENOTYPE이 6 (이진수 `110`)**
      
      ```
        110 (GENOTYPE 6)
      & 010 (확인하고 싶은 2번 형질)
      -----
        010 (결과 2)
      
      ```
      
      - 결과가 2가 나왔어! "2번 형질을 가지고 있다!"
  
  ### 3. **3번 형질(값 4)이 켜져 있는지 확인하는 법:** `GENOTYPE & 4 = 4`
  
  - 이번에는 **오른쪽에서 세 번째 스위치(값 4)**만 궁금해.
  - 숫자 `4`는 2진수로 `100` (다른 스위치는 다 꺼짐!)
  - **예시: GENOTYPE이 5 (이진수 `101`)**
      
      ```
        101 (GENOTYPE 5)
      & 100 (확인하고 싶은 3번 형질)
      -----
        100 (결과 4)
      
      ```
      
      - 결과가 4가 나왔어! "3번 형질을 가지고 있다!"
  
  ### 🔍 **문제 조건 다시 보기** 🔍
  
  이제 문제의 조건을 다시 보자.
  
  - **"2번 형질을 보유하지 않으면서"**:
      - 2번 형질의 값은 2 (이진수 `010`)
      - 가지고 있지 않다는 건, 이 스위치가 꺼져 있다는 뜻이야.
      - 그래서 `GENOTYPE & 2 = 0` (2랑 AND 했을 때 결과가 0이어야 해!)
  - **"1번 형질 또는 3번 형질을 보유한"**:
      - 1번 형질의 값은 1 (이진수 `001`)
      - 3번 형질의 값은 4 (이진수 `100`)
      - `OR`이니까 둘 중 하나라도 켜져 있으면 돼!
      - `GENOTYPE & 1 = 1` (1번 스위치 켜짐)
      - `GENOTYPE & 4 = 4` (3번 스위치 켜짐)
      - 둘을 묶어서 `(GENOTYPE & 1 = 1 OR GENOTYPE & 4 = 4)` 이렇게 쓰는 거지!
</details>
    
    

## 💻 코드

```sql
select count(*) as COUNT from ECOLI_DATA 
where (GENOTYPE & 1 = 1 or Genotype & 4 = 4) and genotype & 2 = 0
```